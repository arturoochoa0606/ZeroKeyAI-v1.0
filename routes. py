from flask import jsonify, request
from zerokey.core.engine import Engine

def init_routes(app):
    engine = Engine()

    @app.route("/health", methods=["GET"])
    def health():
        return jsonify({"status": "ok", "version": "1.0"})

    @app.route("/process", methods=["POST"])
    def process():
        data = request.json
        result = engine.run(data)
        return jsonify(result)
